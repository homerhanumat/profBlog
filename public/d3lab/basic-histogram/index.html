
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

<head>
<title>Data and Computing - A Very Basic Histogram</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A website built through Hugo and blogdown.">
<meta name="keywords" content="">
<meta name="author" content="Data and Computing">
<meta name="generator" content="Hugo 0.32.3" />

  



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">








<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script
			  src="https://code.jquery.com/jquery-3.2.1.min.js"
			  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
			  crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link rel="stylesheet" href="../../css/tuftesque.css">
<style>
body {
  
    background-color: #fffff8;
  
}
</style>

<link rel="stylesheet" href="../../css/custom.css">



<script>

</script>


</head>

<body>
<div id="layout" class="pure-g">
<article class="pure-u-1">
<header class="brand non-home-brand" >
  <h1>
    <a href="../../">
      <span id = "blog_logo">
         <svg xmlns="http://www.w3.org/2000/svg" class="grow" width = "50px" height = "50px" viewBox="0 0 4.6 3.0" x="0px" y="15px"><title>Home</title><g data-name="Layer 1"><path d="M3.08766,1.99213c-.18811.05691-.3736.1186-.55685.18962-.07994.03095-.15816.06559-.23628.10043a2.97192,2.97192,0,0,0-.65316-.403A.78668.78668,0,0,0,.775,2.00652a.4645.4645,0,0,0-.0683.4943.57477.57477,0,0,0,.38793.32569A1.27933,1.27933,0,0,0,1.6449,2.829a2.56026,2.56026,0,0,0,.62891-.18551L2.296,2.659l.0743.05093c-.17343.08282-.34612.16759-.52378.23926A1.77391,1.77391,0,0,1,.57779,2.91551c-.02935-.01233-.06516.00408-.04207.02662a1.0404,1.0404,0,0,0,.70007.24683,1.9666,1.9666,0,0,0,1.06846-.2183c.08674-.04613.17288-.09072.25986-.13226a2.20534,2.20534,0,0,0,.67912.3085.7369.7369,0,0,0,.708-.166A.39257.39257,0,0,0,3.742,2.3428a1.43968,1.43968,0,0,0-.77917.11791c-.092.03-.1821.06493-.27119.10262q-.046-.03151-.09129-.06353a5.75518,5.75518,0,0,1,.89517-.33171.95706.95706,0,0,1,.953.20834c.00912.00921.02756-.00131.02213-.01392C4.24551,1.84154,3.54528,1.85373,3.08766,1.99213ZM1.4528,2.52977a.57188.57188,0,0,1-.38383-.06.17676.17676,0,0,1-.02013-.28964.50668.50668,0,0,1,.44764-.0257,1.65245,1.65245,0,0,1,.47362.26323A2.12767,2.12767,0,0,1,1.4528,2.52977ZM3.137,2.63224a2.623,2.623,0,0,1,.32279-.04977.41363.41363,0,0,1,.27782.03707.12548.12548,0,0,1-.02625.19235.44765.44765,0,0,1-.316.06608,1.3124,1.3124,0,0,1-.49218-.17988A2.18209,2.18209,0,0,1,3.137,2.63224Z"/></g></svg>
      </span>
      
    </a>
  </h1>
</header>



<section>
  <h1 class="content-title">
  
  <a href="../../d3lab/basic-histogram/">A Very Basic Histogram</a>
  
  </h1>
  
  
  
</section>




<section><div id="fastest-speeds" class="section level2">
<h2>Fastest Speeds</h2>
<p>Fastest speed ever driven (mph), for 71 students at Georgetown College. <label for="tufte-mn-" class="margin-toggle">âŠ•</label><input type="checkbox" id="tufte-mn-" class="margin-toggle"><span class="marginnote">Source: <code>tigerstats::m111survey</code>.</span> The approach to responsivity is to use the svg <code>viewBox</code>.</p>
<p><strong>Note</strong>: For a responsive full-width element, wrap the svg as follows:</p>
<pre class="html"><code>&lt;div id=&quot;viz&quot; class=&quot;fullwidth&quot;&gt;&lt;svg id= ...&gt;&lt;/svg&gt;&lt;/div&gt;</code></pre>
<style>
      .tick > line {
        stroke: #EBD8C1;
        fill: none;
      }

      text {
        fill: #C4B9AC;
      }

      path.domain {
        stroke: #000;
        fill: none;
      }
    </style>
<p id="viz" class="fullwidth">
<svg id="graph" data-width="600px" data-height="450px">
</svg>
</p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.9.1/d3.min.js"></script>
<script>
  // modified just a bit from:
  // https://gist.github.com/soykje/ec2fc326830355104c89cd50bf1fa192

function responsivefy(svg) {
  // get container + svg aspect ratio
  var container = d3.select(svg.node().parentNode),
      width = parseInt(svg.attr("data-width")),
      height = parseInt(svg.attr("data-height")),
      aspect = width / height;

  // add viewBox and preserveAspectRatio properties,
  // and call resize so that svg resizes on inital page load
  svg.attr("viewBox", "0 0 " + width + " " + height)
      .attr("preserveAspectRatio", "xMinYMid")
      .call(resize);

  // to register multiple listeners for same event type,
  // you need to add namespace, i.e., 'click.foo'
  // necessary if you call invoke this function for multiple svgs
  // api docs: https://github.com/mbostock/d3/wiki/Selections#on
  d3.select(window).on("resize." + container.attr("id"), resize);

  // get width of container and resize svg to fit it
  function resize() {
  console.log(container);
      var targetWidth = parseInt(container.style("width"));
      svg.attr("width", targetWidth);
      svg.attr("height", Math.round(targetWidth / aspect));
  }
}
</script>
<script>

      responsivefy(d3.select("#graph"));
      
      d3.csv("../../data/m111survey.csv", data => histogram(data) );
      
      function histogram(data) {
        var xScale = d3.scaleLinear().domain([ 0, 200 ]).range([ 0, 500 ]);
        var yScale = d3.scaleLinear().domain([ 0, 30 ]).range([ 400, 0 ]);
        var xAxis = d3.axisBottom().scale(xScale)
          .tickValues(d3.range(20, 201, 20));
        var yAxis = d3.axisRight().scale(yScale).tickValues([5, 10, 15, 20, 25]).tickSize(-550);
        
        var speeds = data.map(function(d) { return d["fastest"]; });
        var histoChart = d3.histogram();
        
        histoChart
          .domain([ 0, 200 ])
          //.thresholds([ 0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200 ])
          .thresholds(d3.thresholdSturges(speeds))
          .value(d => Number.parseFloat(d.fastest));
        
        histoData = histoChart(data);
        
        d3.select("#graph")
          .selectAll("rect")
          .data(histoData).enter()
          .append("rect")
            .attr("x", d => xScale(d.x0))
            .attr("y", d => yScale(d.length))
            .attr("width", d => xScale(d.x1 - d.x0) - 2)
            .attr("height", d => 400 - yScale(d.length))
            .style("fill", "#FCD88B")
            .style("opacity", 0.80);
        
        d3.select("#graph").append("g").attr("id", "xAxis")
            .attr("transform", "translate(0,400)").call(xAxis);
            
        d3.select("#graph").append("g").attr("id", "yAxis")
            .attr("transform", "translate(550, 0)").call(yAxis);
        
        d3.select("#xAxis").selectAll("text").attr("dx", 0);
        d3.select("#yAxis").selectAll("text").attr("dy", 0);
        
        d3.select("#graph")
          .append("line")
            .attr("x1", 0)
            .attr("y1", 0)
            .attr("x2", 0)
            .attr("y2", 400)
            .style("stroke", "#000")
            .style("stroke-width", "2px");
      }
</script>
</div>
</section>
<section>
  


  
  <footer class="page-footer">
		<hr>
		<ul class="page-footer-menu">
		
		</ul>

  

	<div class="copyright">
	<p>
    
      &copy;2018
    Homer White.
    All rights reserved.
    
  </p>
  </div>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    menuSettings: { zoom: "Double-Click" },
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

</footer>

</section>
</article>
</div>
</body>
</html>
