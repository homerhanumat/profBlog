
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

<head>
<title>Data and Computing - Guidance on the Madhava Graph Problem</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A website built through Hugo and blogdown.">
<meta name="keywords" content="">
<meta name="author" content="Data and Computing">
<meta name="generator" content="Hugo 0.32.3" />

  



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">








<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script
			  src="https://code.jquery.com/jquery-3.2.1.min.js"
			  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
			  crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link rel="stylesheet" href="../../../../css/tuftesque.css">
<style>
body {
  
    background-color: #fffff8;
  
}
</style>

<link rel="stylesheet" href="../../../../css/custom.css">



<script>

</script>


</head>

<body>
<div id="layout" class="pure-g">
<article class="pure-u-1">
<header class="brand non-home-brand" >
  <h1>
    <a href="../../../../">
      <span id = "blog_logo">
         <svg xmlns="http://www.w3.org/2000/svg" class="grow" width = "50px" height = "50px" viewBox="0 0 4.6 3.0" x="0px" y="15px"><title>Home</title><g data-name="Layer 1"><path d="M3.08766,1.99213c-.18811.05691-.3736.1186-.55685.18962-.07994.03095-.15816.06559-.23628.10043a2.97192,2.97192,0,0,0-.65316-.403A.78668.78668,0,0,0,.775,2.00652a.4645.4645,0,0,0-.0683.4943.57477.57477,0,0,0,.38793.32569A1.27933,1.27933,0,0,0,1.6449,2.829a2.56026,2.56026,0,0,0,.62891-.18551L2.296,2.659l.0743.05093c-.17343.08282-.34612.16759-.52378.23926A1.77391,1.77391,0,0,1,.57779,2.91551c-.02935-.01233-.06516.00408-.04207.02662a1.0404,1.0404,0,0,0,.70007.24683,1.9666,1.9666,0,0,0,1.06846-.2183c.08674-.04613.17288-.09072.25986-.13226a2.20534,2.20534,0,0,0,.67912.3085.7369.7369,0,0,0,.708-.166A.39257.39257,0,0,0,3.742,2.3428a1.43968,1.43968,0,0,0-.77917.11791c-.092.03-.1821.06493-.27119.10262q-.046-.03151-.09129-.06353a5.75518,5.75518,0,0,1,.89517-.33171.95706.95706,0,0,1,.953.20834c.00912.00921.02756-.00131.02213-.01392C4.24551,1.84154,3.54528,1.85373,3.08766,1.99213ZM1.4528,2.52977a.57188.57188,0,0,1-.38383-.06.17676.17676,0,0,1-.02013-.28964.50668.50668,0,0,1,.44764-.0257,1.65245,1.65245,0,0,1,.47362.26323A2.12767,2.12767,0,0,1,1.4528,2.52977ZM3.137,2.63224a2.623,2.623,0,0,1,.32279-.04977.41363.41363,0,0,1,.27782.03707.12548.12548,0,0,1-.02625.19235.44765.44765,0,0,1-.316.06608,1.3124,1.3124,0,0,1-.49218-.17988A2.18209,2.18209,0,0,1,3.137,2.63224Z"/></g></svg>
      </span>
      
    </a>
  </h1>
</header>

<section>
  <h1 class="content-title">
  
  <a href="../../../../2017/09/27/guidance-on-the-madhava-graph-problem/">Guidance on the Madhava Graph Problem</a>
  
  </h1>
  
  
  
  <span class="content-meta">
    
  
  
  
  <i class="fa fa-user">&nbsp;</i><span class="author">
    &nbsp;Homer White</span> <br>
    
  
  
  
  <i class="fa fa-calendar"></i>
    &nbsp;Sep 27, 2017
  
  
  
  &nbsp;<i class="fa fa-clock-o"></i>
    &nbsp;5 min read
  
  
  
  <br>
    <i class="fa fa-tags"> </i>
    
    <a  href="../../../../tags/csc115">csc115</a>
    
    <a  href="../../../../tags/flow-control">flow control</a>
    
    
    </span>
    
    
</section>


<section><div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This post provides a bit of guidance for students in CSC 115 who are working on the <a href="http://homerhanumat.com/r-notes/exercises-2.html">Madhava Graph exercise</a> in Chapter 4 of the course text.</p>
<!--more-->
<p>As you will recall, the statement of the problem is as follows:</p>
<blockquote>
<p>Recall the function <code>madhavaPI()</code> from <a href="">Section 3.4.1</a>. Use this function to write a function called <code>madhavaGraph()</code> that will do the following: given a number <span class="math inline">\(n\)</span>, the function uses <strong>ggplot2</strong> to produce a line graph of the first <span class="math inline">\(n\)</span> approximations to <span class="math inline">\(\pi\)</span> using the initial terms of the Madhava series.</p>
</blockquote>
<blockquote>
<p>The plot should be a line graph similar to the one produced by the <code>collatz()</code> functions from this Chapter. The function should take a single argument <code>n</code>, whose default value is 10.</p>
</blockquote>
<blockquote>
<p>It should validate the input: if the number entered is not at least 1, then the function should should explain to the user that the he/she must enter a positive number, and then stop.</p>
</blockquote>
</div>
<div id="outline" class="section level2">
<h2>Outline</h2>
<p>Based on the specification in the problem, you can set up an initial outline of the desired function, as follows:</p>
<pre class="r"><code>madhavaGraph &lt;- function(n = 10) {
  
  validate the input: if n isn&#39;t at least 1, stop the function
    
  find the sums:
    * the sum of the first term (4)
    * the sum of the first and second terms (4 - 4/3)
    * the sum of the first three terms ( 4 - 4/3 + 4/5)
    * and so on until ...
    * the sum of the first n terms
  make sure these sums are stored in a vector (let&#39;s call it &quot;results&quot;)
  
  make the plot:
    - the vector 1:n (call it &quot;terms&quot;) gives the x-coordinates of the points
    - the results vector gives y-coordinates
  
}</code></pre>
<p>As you can see, the body of the function has three primary parts:</p>
<ol style="list-style-type: decimal">
<li>validating the input</li>
<li>finding the sums and storing them in the <code>results</code> vector</li>
<li>making the plot.</li>
</ol>
<p>I’ll leave Part 1 entirely to you, but say a bit more about parts 2 and 3.</p>
</div>
<div id="making-the-graph" class="section level2">
<h2>Making the Graph</h2>
<p>First we’ll think about the graph. Since it is made from functions in the <strong>ggplot2</strong> package, you will need to make sure that you load the package when you are designing the function.<label for="tufte-mn-" class="margin-toggle">⊕</label><input type="checkbox" id="tufte-mn-" class="margin-toggle"><span class="marginnote">The function itself does not load <strong>ggplot2</strong>, so you should make sure to tell anyone who plans to use the function to load it!</span></p>
<pre class="r"><code>library(ggplot2)</code></pre>
<p>Now suppose that the value of the parameter <code>n</code> is 10. Then by the time you get around to making the graph you’ll have the terms:</p>
<pre class="r"><code>terms &lt;- 1:n
terms</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>You’ll also have the sums, another vector of length 10:</p>
<pre class="r"><code>results</code></pre>
<pre><code>##  [1] 4.000000 2.666667 3.466667 2.895238 3.339683 2.976046 3.283738
##  [8] 3.017072 3.252366 3.041840</code></pre>
<p>From our study of the Collatz function, we know that the way to make a line graph of these points is:</p>
<pre class="r"><code>plotTitle &lt;- paste0(&quot;The first &quot;, n, &quot; Madhava sums&quot;)
  p &lt;- ggplot(mapping = aes(x = terms, y = results)) +
    geom_point() + geom_line() +
    labs( x = &quot;number of terms&quot;, y = &quot;Madhava sum&quot;,
          title = plotTitle)
  print(p)</code></pre>
<p><img src="../../../../post/2017-09-27-madhava-graph-advice_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Hence we can fill in the outline of our function a bit:</p>
<pre class="r"><code>madhavaGraph &lt;- function(n = 10) {
  
  validate the input: if n isn&#39;t at least 1, stop the function
    
  find the sums:
    * the sum of the first term (4)
    * the sum of the first and second terms (4 - 4/3)
    * the sum of the first three terms ( 4 - 4/3 + 4/5)
    * and so on until ...
    * the sum of the first n terms
  make sure these sums are stored in a vector (let&#39;s call it &quot;results&quot;)
  
 plotTitle &lt;- paste0(&quot;The first &quot;, n, &quot; Madhava sums&quot;)
  p &lt;- ggplot(mapping = aes(x = terms, y = results)) +
    geom_point() + geom_line() +
    labs( x = &quot;number of terms&quot;, y = &quot;Madhava sum&quot;,
          title = plotTitle)
  print(p)
  
}</code></pre>
</div>
<div id="finding-and-storing-the-sums" class="section level2">
<h2>Finding and Storing the Sums</h2>
<p>The outline for this part of the task looked like:</p>
<ul>
<li>get the sum of the first term (just 1)</li>
<li>get the sum of the first and second terms (<span class="math inline">\(4 - 4/3\)</span>)</li>
<li>get the sum of the first three terms (<span class="math inline">\(4 - 4/3 + 4/5\)</span>)</li>
<li>and so on until …</li>
<li>get the sum of the first n terms</li>
</ul>
<p>At each step in above process, we will need to store our sum in the <code>results</code> vector, so that it isn’t lost.</p>
<p>The natural way to accomplish the above task is to use a <code>for</code>-loop in which we iterate by index and store results. The outline of such a loop is:</p>
<pre class="r"><code>results &lt;- numeric(n)
for ( i in 1:n ) {
  
  results[i] &lt;- the sum of the first i terms
  
}</code></pre>
<p>We already know how to find the sum of the first <span class="math inline">\(i\)</span> terms: we can just use the function <code>madhavaPI()</code> from Chapter 3:</p>
<pre class="r"><code>madhavaPI &lt;- function(n = 1000000) {
  k &lt;- 1:n
  terms &lt;- (-1)^(k+1)*4/(2*k-1)
  sum(terms)
}</code></pre>
<p>Hence when you are working inside the loop, you can get and store the results all in one line:</p>
<pre class="r"><code>results[i] &lt;- madhavaPI(i)</code></pre>
<p>Well, to be totally truthful, you can do this <em>provided that</em> R knows what <code>madhavaPI()</code> is. Hence you must either:</p>
<ul>
<li>hope that whoever uses <code>madhavaGraph()</code> has <code>madhavaPI()</code> in their Global Environment so that <code>madhavaGraph()</code> can look up the name <code>madhavaPI</code> when it needs it, or</li>
<li>define <code>madhavaPI()</code> inside the body of <code>madhavaGraph()</code>, before you start computing any sums.</li>
</ul>
<p>The latter seems to be the safer choice!</p>
</div>
<div id="put-it-all-together" class="section level2">
<h2>Put It All Together</h2>
<p>You still have the task of filling in the outline completely and then testing <code>madhavaGraph()</code> until it works.</p>
</div>
</section>
<section>
  

  



  
  <footer class="page-footer">
		<hr>
		<ul class="page-footer-menu">
		
		</ul>

  

	<div class="copyright">
	<p>
    
      &copy;2018
    Homer White.
    All rights reserved.
    
  </p>
  </div>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    menuSettings: { zoom: "Double-Click" },
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

</footer>

</section>
</article>
</div>
</body>
</html>
